{"ast":null,"code":"var _jsxFileName = \"/Users/keefergregoire/Documents/profecient_v2/src/Semester Creator/ClassEditor/ClassEditor.js\";\nimport React from 'react';\nimport { FadeInOut_HandleState } from '../../CustomTransition';\nimport { checkInputs } from './helperFunc';\n\nclass ClassEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {\n        name: false,\n        instructor: false,\n        location: false,\n        date: {\n          start: false,\n          end: false\n        }\n      },\n      daysOfWeek_error: false\n    };\n    this.days = ['M', 'T', 'W', 'T', 'F', 'S', 'S'];\n    this.className = React.createRef();\n    this.instructor = React.createRef();\n    this.location = React.createRef();\n    this.startDate = React.createRef();\n    this.endDate = React.createRef();\n    this.wrapperRef = React.createRef();\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside); // $(this.startDate).datepicker();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  handleClickOutside(event) {\n    const datepicker = document.getElementById('ui-datepicker-div');\n\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target) && !datepicker.contains(event.target)) {\n      this.cancelUpdate();\n    }\n  }\n\n  addClass() {\n    const error = this.checkErrors();\n\n    if (!error) {\n      const currentClass_copy = this.props.currentClass;\n      this.props.addClass(currentClass_copy);\n      this.resetInputs();\n    }\n  }\n\n  updateClass() {\n    const error = this.checkErrors();\n\n    if (!error) {\n      const currentClass_copy = this.state.currentClass;\n      this.props.updateClass(currentClass_copy);\n    }\n  }\n\n  resetInputs() {\n    this.className.current.value = '';\n    this.instructor.current.value = '';\n    this.location.current.value = '';\n    this.startDate.current.value = '';\n    this.endDate.current.value = '';\n  }\n\n  checkErrors() {\n    let error_check = new CE_Errors();\n    const errors_copy = this.state.errors;\n    const daysOfWeek_error_copy = this.state.daysOfWeek_error;\n    const inputErrors = checkInputs(errors_copy, currentClass);\n    const daysOfWeekErrors = checkDaysOfWeek(daysOfWeek_error_copy, currentClasss);\n\n    if (!errors_copy.startDate && !errors_copy.endDate) {\n      const startArr = this.props.currentClass.date.start.split('/');\n      const endArr = this.props.currentClass.date.end.split('/');\n\n      if (checkDate(startArr)) {\n        if (checkDate(endArr)) {\n          if (!checkDateDif(startArr, endArr)) {\n            errors_copy.endDate = true;\n            error = true;\n          }\n        } else {\n          errors_copy.endDate = true;\n          error = true;\n        }\n      } else {\n        errors_copy.startDate = true;\n        error = true;\n      }\n    }\n\n    this.setState({\n      errors: errors_copy,\n      daysOfWeek_error: daysOfWeek_error_copy\n    });\n    return error;\n  }\n\n  setInputVals(val) {\n    this.className.current.value = val.name;\n    this.instructor.current.value = val.instructor;\n    this.location.current.value = val.location;\n    this.startDate.current.value = val.date.start;\n    this.endDate.current.value = val.date.end;\n  }\n\n  cancelUpdate() {\n    this.resetInputs();\n    this.props.cancelUpdate();\n  }\n\n  render() {\n    const dayButtons = this.days.map((data, index) => /*#__PURE__*/React.createElement(DayButton, {\n      text: data,\n      i: index,\n      key: index,\n      toggleSelected: i => this.props.toggleSelected(i),\n      selected: this.props.currentClass.daysOfWeek[index],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 4\n      }\n    }));\n\n    if (this.props.editMode) {\n      this.setInputVals(this.props.currentClass);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.wrapperRef,\n      style: this.props.style,\n      className: \"class-editor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.className,\n      onKeyUp: () => this.props.updateCurrent('name', this.className.current.value),\n      className: \"class-name\",\n      type: \"text\",\n      placeholder: \"Class Name\",\n      style: this.state.errors.name ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row instruct-loc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onKeyUp: () => this.props.updateCurrent('instructor', this.instructor.current.value),\n      ref: this.instructor,\n      type: \"text\",\n      placeholder: \"Instructor\",\n      style: this.state.errors.instructor ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.location,\n      onKeyUp: () => this.props.updateCurrent('location', this.location.current.value),\n      type: \"text\",\n      placeholder: \"Location\",\n      style: this.state.errors.location ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: this.state.daysOfWeek_error ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      className: \"day-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }\n    }, dayButtons), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row start-end-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"datepicker\",\n      ref: this.startDate,\n      type: \"text\",\n      placeholder: \"Start Date\",\n      onClick: () => this.props.updateCurrent_2Key('date', 'start', this.startDate.current.value),\n      style: this.state.errors.startDate ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"datepicker\",\n      ref: this.endDate,\n      type: \"text\",\n      placeholder: \"End Date\",\n      onClick: () => this.props.updateCurrent_2Key('date', 'end', this.endDate.current.value),\n      style: this.state.errors.endDate ? {\n        border: '2px solid red',\n        transition: '.3s'\n      } : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(StartEndTime, {\n      time: this.props.editMode ? {\n        start: this.props.currentClass.time.start,\n        end: this.props.currentClass.time.end\n      } : this.props.currentClass.time,\n      setTime: (key, time) => this.props.updateCurrent_2Key('time', key, time),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FadeInOut_HandleState, {\n      condition: !this.props.editMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.addClass(),\n      className: \"add-class\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 7\n      }\n    }, \"Add Class\")), /*#__PURE__*/React.createElement(FadeInOut_HandleState, {\n      condition: this.props.editMode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.cancelUpdate(),\n      className: \"cancel-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }\n    }, \"Cancel\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.updateClass(),\n      className: \"update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }, \"Update\"))))));\n  }\n\n}\n\nfunction DayButton(props) {\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: i => props.toggleSelected(props.i),\n    className: props.selected ? 'selected' : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 3\n    }\n  }, props.text);\n}\n\nexport default ClassEditor;","map":{"version":3,"sources":["/Users/keefergregoire/Documents/profecient_v2/src/Semester Creator/ClassEditor/ClassEditor.js"],"names":["React","FadeInOut_HandleState","checkInputs","ClassEditor","Component","constructor","props","state","errors","name","instructor","location","date","start","end","daysOfWeek_error","days","className","createRef","startDate","endDate","wrapperRef","handleClickOutside","bind","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","event","datepicker","getElementById","current","contains","target","cancelUpdate","addClass","error","checkErrors","currentClass_copy","currentClass","resetInputs","updateClass","value","error_check","CE_Errors","errors_copy","daysOfWeek_error_copy","inputErrors","daysOfWeekErrors","checkDaysOfWeek","currentClasss","startArr","split","endArr","checkDate","checkDateDif","setState","setInputVals","val","render","dayButtons","map","data","index","i","toggleSelected","daysOfWeek","editMode","style","updateCurrent","border","transition","updateCurrent_2Key","time","key","DayButton","selected","text"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {FadeInOut_HandleState} from '../../CustomTransition';\nimport {checkInputs,} from './helperFunc';\nclass ClassEditor extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrors: {\n\t\t\t\tname: false,\n\t\t\t\tinstructor: false,\n\t\t\t\tlocation: false,\n\t\t\t\tdate: {\n\t\t\t\t\tstart: false,\n\t\t\t\t\tend: false,\n\t\t\t\t}\n\t\t\t},\n\t\t\tdaysOfWeek_error: false,\n\t\t}\n\n\t\tthis.days = ['M', 'T', 'W', 'T', 'F', 'S', 'S'];\n\t\t\n\t\tthis.className = React.createRef();\n\t\tthis.instructor = React.createRef();\n\t\tthis.location = React.createRef();\n\t\tthis.startDate = React.createRef();\n\t\tthis.endDate = React.createRef();\n\n\t\tthis.wrapperRef = React.createRef();\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n\t}\n\n\tcomponentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n        // $(this.startDate).datepicker();\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n    \tconst datepicker = document.getElementById('ui-datepicker-div');\n        if (this.wrapperRef && !this.wrapperRef.current.contains(event.target) && !datepicker.contains(event.target)) {\n            this.cancelUpdate();\n        }\n    }\n\n\taddClass(){\n\t\tconst error = this.checkErrors();\n\t\t\n\t\tif(!error){\n\t\t\tconst currentClass_copy = this.props.currentClass;\n\t\t\tthis.props.addClass(currentClass_copy);\n\n\t\t\tthis.resetInputs();\n\t\t}\n\t}\n\n\tupdateClass(){\n\t\tconst error = this.checkErrors();\n\t\t\n\t\tif(!error){\n\t\t\tconst currentClass_copy = this.state.currentClass;\n\t\t\tthis.props.updateClass(currentClass_copy);\n\t\t}\n\t}\n\n\tresetInputs(){\n\t\tthis.className.current.value = '';\n\t\tthis.instructor.current.value = '';\n\t\tthis.location.current.value = '';\n\t\tthis.startDate.current.value = '';\n\t\tthis.endDate.current.value = '';\n\t}\n\n\tcheckErrors(){\n\t\tlet error_check = new CE_Errors();\n\t\tconst errors_copy = this.state.errors;\n\t\tconst daysOfWeek_error_copy = this.state.daysOfWeek_error;\n\t\t\t\n\t\tconst inputErrors = checkInputs(errors_copy, currentClass);\n\t\tconst daysOfWeekErrors = checkDaysOfWeek(daysOfWeek_error_copy, currentClasss)\n\t\t\n\t\n\t\t\n\n\t\tif(!errors_copy.startDate && !errors_copy.endDate){\n\t\t\tconst startArr = this.props.currentClass.date.start.split('/');\n\t\t\tconst endArr = this.props.currentClass.date.end.split('/');\n\t\t\tif(checkDate(startArr)){\n\t\t\t\tif(checkDate(endArr)){\n\t\t\t\t\tif(!checkDateDif(startArr, endArr)){\n\t\t\t\t\t\terrors_copy.endDate = true;\n\t\t\t\t\t\terror=true;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\terrors_copy.endDate = true;\n\t\t\t\t\terror=true;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\terrors_copy.startDate = true;\n\t\t\t\terror=true;\n\t\t\t}\n\t\t}\n\n\n\t\tthis.setState({\n\t\t\terrors: errors_copy,\n\t\t\tdaysOfWeek_error: daysOfWeek_error_copy,\n\t\t})\n\t\treturn error;\n\t}\n\n\tsetInputVals(val){\n\t\tthis.className.current.value = val.name;\n\t\tthis.instructor.current.value = val.instructor;\n\t\tthis.location.current.value = val.location;\n\t\tthis.startDate.current.value = val.date.start;\n\t\tthis.endDate.current.value = val.date.end;\n\t}\n\n\tcancelUpdate(){\n\t\tthis.resetInputs();\n\t\tthis.props.cancelUpdate();\n\t}\n\n\trender(){\n\t\tconst dayButtons = this.days.map((data, index) =>\n\t\t\t<DayButton \n\t\t\t\ttext={data} \n\t\t\t\ti={index} \n\t\t\t\tkey={index} \n\t\t\t\ttoggleSelected={(i) => this.props.toggleSelected(i)}\n\t\t\t\tselected={this.props.currentClass.daysOfWeek[index]}\n\t\t\t/>\n\t\t)\n\n\t\tif(this.props.editMode){\n\t\t\tthis.setInputVals(this.props.currentClass);\n\t\t}\n\n\t\treturn(\n\t\t\t<div ref={this.wrapperRef} style={this.props.style} className='class-editor'>\n\t\t\t\t<input \n\t\t\t\t\tref={this.className} \n\t\t\t\t\tonKeyUp={() => this.props.updateCurrent('name', this.className.current.value)}  \n\t\t\t\t\tclassName='class-name' \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder='Class Name'\n\t\t\t\t\tstyle={this.state.errors.name ? {border: '2px solid red', transition: '.3s'} : null}\n\t\t\t\t/>\n\t\t\t\t<div className='row instruct-loc'>\n\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tonKeyUp={() => this.props.updateCurrent('instructor', this.instructor.current.value)}\n\t\t\t\t\t\t\tref={this.instructor} \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tplaceholder='Instructor'\n\t\t\t\t\t\t\tstyle={this.state.errors.instructor ? {border: '2px solid red', transition: '.3s'} : null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tref={this.location}\n\t\t\t\t\t\t\tonKeyUp={() => this.props.updateCurrent('location', this.location.current.value)}\n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tplaceholder='Location'\n\t\t\t\t\t\t\tstyle={this.state.errors.location ? {border: '2px solid red', transition: '.3s'} : null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={this.state.daysOfWeek_error ? {border: '2px solid red', transition: '.3s'} : null} className='day-buttons'>\n\t\t\t\t\t{dayButtons}\n\t\t\t\t</div>\n\n\t\t\t\t<div className='row start-end-date'>\n\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='datepicker'\n\t\t\t\t\t\t\tref={this.startDate} \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tplaceholder='Start Date'\n\t\t\t\t\t\t\tonClick={() => this.props.updateCurrent_2Key('date', 'start', this.startDate.current.value)}\n\t\t\t\t\t\t\tstyle={this.state.errors.startDate ? {border: '2px solid red', transition: '.3s'} : null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName='datepicker'\n\t\t\t\t\t\t\tref={this.endDate} \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tplaceholder='End Date'\n\t\t\t\t\t\t\tonClick={() => this.props.updateCurrent_2Key('date', 'end', this.endDate.current.value)}\n\t\t\t\t\t\t\tstyle={this.state.errors.endDate ? {border: '2px solid red', transition: '.3s'} : null}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<StartEndTime \n\t\t\t\t\ttime={this.props.editMode ? {start: this.props.currentClass.time.start, end: this.props.currentClass.time.end} : this.props.currentClass.time} \n\t\t\t\t\tsetTime={(key, time) => this.props.updateCurrent_2Key('time', key, time)}\n\t\t\t\t/>\n\t\t\t\t<div className='button-container'>\n\t\t\t\t\t<FadeInOut_HandleState condition={!this.props.editMode}>\n\t\t\t\t\t\t<button onClick={() => this.addClass()} className='add-class'>Add Class</button>\n\t\t\t\t\t</FadeInOut_HandleState>\n\t\t\t\t\t<FadeInOut_HandleState condition={this.props.editMode}>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t\t\t<button onClick={() => this.cancelUpdate()} className='cancel-update'>Cancel</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-lg-6'>\n\t\t\t\t\t\t\t\t<button onClick={() => this.updateClass()} className='update'>Update</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FadeInOut_HandleState>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction DayButton(props){\n\treturn(\n\t\t<button \n\t\t\tonClick={(i) => props.toggleSelected(props.i)}\n\t\t\tclassName={props.selected ? 'selected' : null}\n\t\t>{props.text}\n\t\t</button>\n\t);\n}\n\nexport default ClassEditor;"]},"metadata":{},"sourceType":"module"}